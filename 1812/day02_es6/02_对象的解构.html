<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
    {
        //对象的解构
        //等号左右均为对象结构
        //键名用来进行赋值项的匹配，真正被赋值的是等号左侧的键值部分；
        let obj = {
            name:"lee",
            age:18
        }
        let {name:name1,age:age1} = obj;
        console.log(name1,age1);
    }

    {
        //对象解构的简写
        //等号左侧的键名键值变量名称一致时，可省略键值
        let obj = {
            name:"lee",
            age:18
        }
        let {name,age} = obj;
        console.log(name,age);
    }

    {
        //不完全解构
        let obj = {
            name:"lee",
            age:18
        }
        let {name,age,work} = obj;
        console.log(name,age,work);
    }

    {
        //失败解构
        let obj = {
            name:"lee",
            age:undefined
        }
        let {name,age} = obj;
        console.log(name,age);
    }

    {
        //默认值
        let obj = {
            name:"lee",
            age:undefined
        }
        let {name,age:age=20} = obj;
        console.log(name,age);
    }

    {
        //惰性赋值
        let fn = ()=>{
            alert("run");
            return 1;
        }
        let obj = {
            name:"lee",
            age:12
        }
        let {name,age:age=fn()} = obj;
        console.log(name,age);
    }

    {
        //应用1
        //对ajax请求数据的截取
        let res = {
            state:'1',
            data:{
                name:'lee'
            }
        }
        let {data} = res;
        console.log(data);

        //应用2
        //函数实参对形参解构
        // let fn = (obj)=>{
        //     alert(obj.a+obj.b);
        // }
        // fn({
        //     a:1,
        //     b:2
        // })

        let fn = ({a,b,c})=>{
            alert(a+b);
        }
        fn({
            a:1,
            b:2,
            c:3
        })
        // {a,b} = {a:1,b:2}
    }

    {
        //注意事项
        //如果解构项的变量已声明，需用括号包裹解构表达式
        let obj = {
            name:"lee",
            age:18
        }
        let name,age;
        ({name,age} = obj);
        console.log(name,age);
    }

    {
        //案例
        //对象解构是可以重复解构的
        let obj = {
            name:"老李",
            age:40,
            work:"教学总监",
            like:["吃","喝","玩","乐"]
        }
        let {name,age,work,like:[eat,drink,happy,play],like} = obj;
        console.log(name,age,work,like,eat,drink,happy,play)
    }

    {
        //函数
        let fn = ()=>{};
        fn.a = 10;
        fn.b = 20;
        let {a,b,call:fn2} = fn;
        console.log(a,b,fn2);
    }

    
</script>
</html>